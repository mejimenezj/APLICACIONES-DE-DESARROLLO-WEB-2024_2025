{% extends 'base.html' %}

{% block title %}Iniciar Sesión{% endblock %}

{% block content %}
<div class="login-container">
    <h2>Iniciar Sesión</h2>

    <!-- Mensajes flash mejorados -->
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
                {% if category != 'success' %}  <!-- Filtra mensajes de éxito -->
                    <div class="flash-{{ category }}">
                        {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    {% endif %}
{% endwith %}

    <form method="post" class="login-form">
        <div class="form-group">
            <label for="email">Correo electrónico:</label><br>
            <input type="email" id="email" name="email" required><br><br>
        </div>

        <div class="form-group">
            <label for="password">Contraseña:</label><br>
            <input type="password" id="password" name="password" required><br><br>
        </div>

        <div class="form-actions">
            <input type="submit" value="Iniciar sesión" class="btn-login">
            <a href="{{ url_for('index') }}" class="btn-cancel">Cancelar</a>
        </div>
    </form>

    <div class="register-link">
        <p>¿No tienes cuenta? <a href="{{ url_for('registro') }}">Regístrate aquí</a></p>
    </div>
</div>
{% endblock %}
